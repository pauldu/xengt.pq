#
# This patch queue is intended to be applied to the following base commit:
#
# commit 6d9230cddb6e966ea1ce6b13584cc35af1c8fbdb
# Author: Jennifer Herbert <Jennifer.Herbert@citrix.com>
# Date:   Tue Aug 2 13:54:10 2016 +0000
#
#    Initial commit matching source from linux-4.x.git with patches
#
#    This equates to a backport of drm-intel commit 840c81e9 (which is
#    the commit on which GVT-g is currently based).

# The DRM code relies on a non-public header
import-intel_ips_h

# Add build system integration
build-system-integration.patch

#
# With patches up to an including the above applied, this repository
# can be built and will result in kernel modules equivalent to building
# the base code in-tree.
#

#
# Patches from https://github.com/otcshare/XenGT-Server-kernel.git
#
# These patches were generated from branch master-4.3.0 using
# git format-patch 87074657.. the c/s hash corresponsing to tag
# 'drm-intel-nightly: 2015y-10m-23d-09h-56m-09s UTC integration manifest'
# in git://anongit.freedesktop.org/drm-intel.
#
# Some of the patches were then post-processed or dropped to remove
# reference to KVM sources that do not exist in this repository.
#

0001-wrap-all-unreview-patches.patch
0002-Revice-the-execlist-dump.patch
0003-vgt-Media-code-cleanup-for-BDW-VCS2.patch
0004-i915-vgt-re-enable-i915-golden-context.patch
0005-vgt-tools-vgt_report-change-the-default-path-of-vgt-.patch
0006-vgt-save-restore-BCS-ring-registers-for-BDW-during-c.patch
0007-revise-some-symbol-names.patch
0008-Remove-the-preemption-emulation.patch
0009-Reset-execlist-related-internal-structure-after-s3.patch
0010-vgt-handle-uninitialized-context-during-context-swit.patch
0011-To-address-some-warnings-from-code-check-tool.patch
0012-disable-gpu-reset-in-context-switch.patch
0013-vgt-Fix-a-regression-introduce-by-rebasing-hv-vgt-sp.patch
0014-vgt-context-switch-refinement.patch
0015-i915-vgt-fix-for-bug-689-kernel-panic-in-Guest-Ubunt.patch
0016-Revert-vgt-skip-cmd-scan-in-a-mid-batch-preempted-re.patch
0017-Revert-vgt-use-virtual-head-as-last-scan-head-under-.patch
0018-Change-mask-size-to-32.patch
0019-Log-changes.patch
0020-Fix-command-parser-error-for-workloads.patch
0021-Only-find-submitted-execlists-in-CSB-emulation.patch
0022-vgt-execlist-idle-routine-refinement.patch
0023-vgt-fix-a-race-condition-between-irq-handler-and-eve.patch
0024-vgt-remove-0x20e4-from-register-switch-list-as-we-ha.patch
0025-Fix-a-typo.patch
0026-reset-execlist-structure-in-GPU-reset.patch
0027-Fix-a-use-after-free-condition.patch
0028-vgt-try-to-dump-ring-buffer-from-apeature-if-vgt_gma.patch
0029-vgt-handling-modifying-DE_RRMR-via-LRI-instructions.patch
0030-i915-vgt-workaround-for-bug-685-Dom0-S3-becomes-slow.patch
0031-vgt-factor-out-vgt_init_gtt-vgt_clean_gtt.patch
0032-vgt-mm-use-unified-shadow-page-mempool.patch
0033-drm-i915-bdw-WaProgramL3SqcReg1Default.patch
0034-drm-i915-PPGTT-Cacheability-Override.patch
0035-drm-i915-bdw-WaOCLCoherentLineFlush-bdw.patch
0036-drm-i915-bdw-WaDisableMidThreadPreempt-bdw.patch
0037-drm-i915-bdw-Remove-WaSwitchSolVfFArbitrationPriorit.patch
0038-vgt-clean-up-previous-WAs-and-definiations-after-int.patch
0039-vgt-change-some-register-policies.patch
0040-vgt-set-SNPCR-as-F_PT-on-BDW.patch
0041-vgt-remove-0xb10c-from-register-save-restore-list.patch
0042-vgt-change-the-name-of-guest-page-modification-trace.patch
0043-vgt-mm-support-partial-page-table-entry-access.patch
0044-vgt-return-the-actual-aperture-size-under-vgt-enviro.patch
0045-i915-add-missing-masked-operation-for-GEN8_FF_SLICE_.patch
0046-i915-move-pending-bdw-WAs-into-proper-place.patch
0047-vgt-add-missing-mask-opertation-for-some-registers.patch
0048-vgt-disable-s-r-some-slice-mmio-temporarily.patch
0049-i915-handle-register-0xfdc.patch
0050-vgt-let-dom0-take-control-of-register-0xfdc.patch
0051-vgt-Clear-the-bar-upper-32bit-data-while-create-hvm-.patch
0052-vgt-add-untracked-register-0x4dd4.patch
0053-Revert-vgt-remove-0x20e4-from-register-switch-list-a.patch
0054-vgt-tools-support-dump-preg-when-showing-register-in.patch
0055-vgt-tools-remove-GP-faults-related-code.patch
0056-Revert-vgt-handle-uninitialized-context-during-conte.patch
0057-vgt-perf-add-wp_-cycles-cnt.patch
0058-vgt-perf-re-enable-ppgtt_wp_-cycles-cnt.patch
0059-vgt-perf-add-spt_find_-hit-miss-_-cycles-cnt.patch
0060-vgt-perf-add-gpt_find_-hit-miss-_-cycles-cnt.patch
0061-vgt-mm-support-out-of-sync-PPGTT-shadow-page-table-o.patch
0062-vgt-perf-show-hlist-status-in-debugfs.patch
0063-vgt-perf-change-VGT_HASH_BITS-to-8.patch
0064-Fix-bug-for-indirect-display-vgtbuffer-feature.patch
0065-vgt-perf-ppgtt-oos-refinement.patch
0066-vgt-perf-account-oos-page-statistics.patch
0067-vgt-pvinfo-add-vgt-capability-in-pvinfo-page.patch
0068-vgt-perf-adjust-the-size-of-oos-page-pool-to-4096.patch
0069-i915-vgt-perf-bypass-forcewake-in-elsp-writes-when-r.patch
0070-vgt-address-a-corner-case-in-ppgtt-oos-refinement.patch
0071-vgt-out-of-sync-page-code-refinement.patch
0072-i915-user-library-can-specify-bsd-rings-through-exec.patch
0073-vgt-support-per-mmio-accounting.patch
0074-vgt-perf-refine-the-output-format-of-mmio-accounting.patch
0075-vgt-perf-trace-each-command-parsering-cost.patch
0076-vgt-increase-the-size-of-command-string-buffer-to-25.patch
0077-vgt-enable-ppgtt-out-of-sync-on-HSW.patch
0078-Callback-abstraction-and-refinement-for-vgtbuffer.patch
0079-Add-broadwell-support-for-vgtbuffer.patch
0080-vgt-perf-set-some-functions-as-inline-on-some-hot-pa.patch
0081-vgt-perf-introduce-command-parser-instruction-scan-b.patch
0082-vgt-perf-do-not-use-ip-buf-in-post-handle-entry.patch
0083-Remove-the-forcewake-workaround.patch
0084-vgt-fix-a-typo-in-command-parser-instruction-scan-bu.patch
0085-vgt-use-vzalloc-to-prevent-memory-allocation-failure.patch
0086-vgt-device-reset-fix-a-typo-in-vgt_request_force_rem.patch
0087-vgt-device-reset-refine-physical-device-reset-sequen.patch
0088-vgt-device-reset-let-guest-re-create-ppgtt-mm-during.patch
0089-vgt-device-reset-introduce-vgt_reset_execlist.patch
0090-vgt-enable-ring-when-execlist-mode-is-enabled.patch
0091-vgt-check-incomplete-guest-page-table-access.patch
0092-vgt-clear-fence-registers-after-fence-regions-alloca.patch
0093-vgt-change-int32_t-to-unsigned-long-in-get_gma_bb_fr.patch
0094-vgt-remove-register-0xb110-from-register-save-restor.patch
0095-vgt-refine-checking-incomplete-partial-access-sequen.patch
0096-vgt-cmd-scan-handling-for-lite-restore-preemption-an.patch
0097-Revise-the-condition-of-EXECLIST-idle-check.patch
0098-vgt-Optimize-emulation-of-el_status-register-to-enha.patch
0099-vgt-wait-active_to_idle-in-vgt_idle_execlist.patch
0100-vgt-remove-register-0x229c-from-register-save-restor.patch
0101-vgt-change-time-based-scheduler-timer-to-be-configur.patch
0102-vgt-adding-license-text-to-host.-ch.patch
0103-vgt-MIT-licence-compatible-changes.patch
0104-vgt-adding-license-text-to-i915_vgt.h.patch
0106-build-vgt-into-i915.patch
0107-vgt-disable-IPS.patch
0108-vgt-add-IPS_CTL-to-MMIO-audit-list.patch
0109-drm-use-a-dirty-workaround-to-remove-dependency-betw.patch
0110-vgt-cleanup-code.patch
0111-i915-vgt-and-xengt-dont-depend-on-each-other.patch
0112-Kconfig-configure-i915-vgt-as-LKM-by-default.patch
0113-i915-vgt-make-it-unloadable.patch
0114-vgt-set-hotplug-register-properly.patch
0115-kvmgt-porting-configuration-update.patch
0116-kvmgt-porting-MPT-support.patch
0117-kvmgt-porting-configuration-space-and-kvmgt-initiali.patch
0118-kvmgt-porting-aperture-and-opregion-intialization.patch
0119-config-remove-the-long-disappeared-XEN_INST_DECODER.patch
0120-config-add-essential-NAT-networking-support-which-is.patch
0121-config-rename-dom0-to-host-we-re-now-not-limited-to-.patch
0123-fix-bug822-i915-vgt-modulization-wrt.-both-XenGT-and.patch
0125-Fix-a-bug-that-initialize-the-opregion-for-kvm-host.patch
0127-vgt-set-port-A-hotplug-status-properly-for-HSW.patch
0128-vgt-handling-high-priority-events-are-no-longer-bloc.patch
0129-vgt-update-guest-CSB-entities-whenever-guest-read-re.patch
0130-i915-wait_for_atomic-will-spin-on-udelay-instead-of-.patch
0131-vgt-disable-GPU-master-irq-before-try-to-hold-spin_l.patch
0132-vgt-remove-pdev-lock-in-irq-handler.patch
0133-vgt-prevent-head-pointer-tail-pointer-submission.patch
0134-vgt-set-ppat-and-0x4dd4-as-F_PT.patch
0135-vgt-initialize-pdp-array-to-zero-before-usage.patch
0136-vgt-remove-klog-from-vgt-and-replace-with-trace.patch
0137-vgt-initial-guest-CSB-register-after-gpu-reset-under.patch
0138-Partial-fix-of-bug-728.patch
0139-vgt-ignore-update-Guest-PDP-once-a-context-was-submi.patch
0140-config-rename-config-3.18.0-to-config-4.1.0.patch
0141-vgt-Add-64bit-BAR-virtualization-support.patch
0144-Introduce-display.h.patch
0145-Introduce-gtt.h.patch
0146-Introduce-interrupt.h.patch
0147-Introduce-mmio.h.patch
0148-Introduce-four-header-files.patch
0149-shuffle-contents-of-execlist-contexts.patch
0150-Delete-SNB-register-save-restore-list-in-render.c.patch
0151-Reuse-MMIO-definition-of-i915.patch
0152-vgt-mmio-fix-a-typo.patch
0153-vgt-fix-Dom0-kernel-panic-during-show_debug.patch
0154-vgt-mmio-remove-SNB-and-IVB-related-MMIO-handler.patch
0155-vgt-mmio-split-vgt_base_reg_info.patch
0157-Move-hsw-ctx-switch-code-to-legacy.patch
0158-Move-global-variables-into-structures-in-render.c.patch
0159-Move-perf-sample-from-render.c-to-utility.c.patch
0160-Move-scheduler-related-code-in-render.c-to-sched.c.patch
0161-vgt-dispaly-use-virtual-vblank-for-VMs-all-time.patch
0162-Clean-up-some-usless-comments-introduced-dur-rebasin.patch
0163-Rename-configue-file-config-4.1.0-host-to-config-4.2.patch
0164-vgt-Fix-a-typo-pd-pb.patch
0165-Reuse-MMIO-definitions-in-i915-2.patch
0166-vgt-display-change-flip-done-interrupt-into-virtual-.patch
0167-vgt-destroy-sysfs-debugfs-out-of-spinlock-since-they.patch
0168-Update-XenGT-I-O-emulation-logic.patch
0169-host-mediation-use-spinlock-to-serialize-execution-o.patch
0172-kvmgt-rework-opregion-according-userspace-changes.patch
0181-Fix-the-KVMGT-reboot-issue-kvmgt-part.patch
0183-vgt-only-call-set-unset-mmio-range-for-guest.patch
0184-vgt-interrupt-convert-default-interrupt-event-policy.patch
0186-vgt-Keep-only-intel_lr_context_descriptor-for-calcul.patch
0191-vgt-remove-the-bogus-printk-message-about-virq.patch
0192-Remove-redundant-definition-in-vgt.patch
0194-Bug-fix-GTT-size-on-HSW-is-2MB-not-4MB.patch
0196-Show-correct-execlist-RB-content-in-dump-function.patch
0197-vgt-fix-debug-info-for-batch-buffer-in-execlist-mode.patch
0198-fix-some-misc-program-error.patch
0199-remove-validating-empty-context-checking-while-submi.patch
0200-vGT-Enable-bit-6-swizzling-in-i915.patch
0201-fix-some-error-report-by-klocwork.patch
0202-Refine-parser_exec_state_dump-to-dump-the-correct-cm.patch
0203-i915-vgt-disable-GuC-submission-when-vGPU-is-active.patch
0204-i915-vgt-extend-guest-vGPU-routines-to-SKL.patch
0205-i915-vgt-disable-DMC-firmware-loading-in-linux-guest.patch
0206-vgt-skl-basic-platform-awareness.patch
0207-vgt-skl-update-PCI-cfg-MSI-registers-address-for-SKL.patch
0208-vgt-skl-extend-some-gen8-commands-to-gen8.patch
0209-vgt-skl-introduce-new-command-3DSTATE_COMPONENT_PACK.patch
0210-vgt-skl-extend-DERRMR-patch-handler-to-gen8.patch
0211-vgt-fix-typo-AUX_CHENNEL-AUX_CHANNEL.patch
0212-vgt-skl-AUX-channel-interrupts-have-been-moved-into-.patch
0213-vgt-skl-intrducde-pipe-flip-done-interrupt-bit-defin.patch
0214-vgt-skl-introduce-untracked-registers.patch
0215-vgt-skl-disable-surface-base-range-check-for-SKL-tem.patch
0216-vgt-skl-add-SKL-DDI_AUX_CTL_B-C-D.patch
0217-vgt-skl-add-new-pixel-format-for-SKL.patch
0218-vgt-skl-add-SKL-forcewake-support-for-guest-VM.patch
0219-vgt-skl-Refine-DP-AUX-channel-emulation-for-SKL.patch
0220-vgt-skl-introduce-LCPLL1-2-write-handler.patch
0221-vgt-skl-introduce-DPLL_STATUS-read-handler.patch
0222-vgt-skl-emulate-power-well.patch
0223-vgt-skl-emulate-driver-mailbox-on-gen9.patch
0224-vgt-skl-add-plane-register-mapping-routines-for-SKL.patch
0225-vgt-skl-implement-basic-foreground-VM-switch.patch
0226-vgt-skl-disable-panel-fitter-by-default.patch
0227-vgt-do-not-read-untracked-and-non-accessed-registers.patch
0228-vgt-skl-add-SKL-s-r-register-list.patch
0229-vgt-skl-save-restore-mocs-registers.patch
0230-vgt-skl-do-not-perform-gen8-ring-switch-sequence-on-.patch
0231-vgt-reset-virtual-interrupt-registers-in-initializat.patch
0232-vgt-refine-execlist-status-emulation.patch
0233-vgt-change-the-register-type-of-0xe184-and-0xe100.patch
0234-Add-IS_PREEMPTION-check-when-update-vring-scan-state.patch
0235-Refine-cmd-parser-dump-prompt-message.patch
0236-vgt-skl-add-SKL-GT3-4-support-for-VCS2-ring.patch
0237-vgt-disable-guest-lite-restore-temporarily.patch
0238-vgt-skl-add-two-untracked-registers-after-enabling-h.patch
0239-vgt-skl-write-bit-0-of-0x4fdc-when-boot-up.patch
0240-Enable-the-initinalize-of-GPU-rps-powersave-in-Host.patch
0241-vgt-refine-cmd-parser-scan-pointer-update-method.patch
0242-Revert-vgt-disable-guest-lite-restore-temporarily.patch
0243-Fix-an-address-calculation-error-for-memcpy-in-gtt.c.patch
0244-Fix-a-potential-QEMU-crash-issue.patch
0245-vgt-trigger-shadow-when-the-lower-part-of-PTE-gets-u.patch
0246-Remove-i915_check_vgpu-in-intel_uncore_init.patch
0247-Upgrade-xen-vgt-domctl-interface-version-to-XEN-4.6.patch
0248-Update-config-for-4.3-rebasing.patch
0249-add-license-header-for-vgt_mgr.patch
0250-vgt-remove-unnecessary-ASSERT-from-aperture_gm.c.patch
0251-vgt-remove-ASSERT_VM-from-function-mmio_g2h_gmadr.patch
0252-vgt-Remove-ASSERT-in-handlers.c.patch
0253-vgt-Remove-ASSERT-from-render.c.patch
0254-vgt-Remove-ASSERT-from-display.c.patch
0255-vgt-Remove-ASSERT_VM-from-display.c.patch
0256-vgt-Remove-ASSERT-from-edid.c.patch
0257-vgt-security-remove-obsolete-command-handler.patch
0258-vgt-security-introduce-a-new-framework-for-command-a.patch
0259-vgt-security-take-use-the-new-command-address-audit-.patch
0260-vgt-security-add-render-registers-to-audit.patch
0261-vgt-security-special-registers-emulate-in-LRI.patch
0262-vgt-security-audit-force-nonpriv-access.patch
0263-vgt-security-detect-the-HW-reset-frequency.patch
0264-vgt-remove-ASSERT-from-cfg_space.c.patch
0265-vgt-remove-ASSERT-from-cmd_parser.c.patch
0266-Shadow-ring-buffer-implementation.patch
0267-shadow-privilege-batch-buffer.patch
0268-Enable-shadow-command-buffers.patch
0269-vgt-security-avoid-hang-cause-by-wrong-command.patch
0270-Kill-VMs-when-error-occurs.patch
0271-avoid-address-audit-failed-cause-by-invalid-surface-.patch
0272-EXECLIST-Code-cleanup.patch
0273-Cleanup-context-creation-function.patch
0274-Cleanup-context-submission-function.patch
0275-Fix-kernel-panic-caused-by-element-switch.patch
0276-Enlarge-the-workload-submission-queue.patch
0277-send-cs-interrupts-only-to-the-render-owner.patch
0278-lazy-shadow-context.patch
0279-Kill-VM-for-out-of-memory-of-reserved-aperture.patch
0280-default-to-use-optimized-lazy-shadow.patch
0281-Fix-an-issue-due-to-unexpected-gcc-behavior.patch
0282-use-page-address-for-reserved-aperture.patch
0283-Fix-some-issues-in-command-parser-while-booting-on-h.patch
0284-be-able-to-get-va-for-reserved-aperture.patch
0285-Add-more-information-in-ctx-tracing.patch
0286-selective-update-shadow-context.patch
0287-vgt-security-audit-batch-buffer-range.patch
0288-vgt-fix-bug-836-issue.patch
0289-vgt-do-not-kill-when-fail-to-resize-the-mempool.patch
0291-vgt-check-scratch-page-to-avoid-guest-crash.patch
0292-vgt-skl-handle-SKL-forcewake-regs-correctly.patch
0294-vgt-skl-add-SKL-8-VM-support.patch
0296-Re-generate-config-4.3.0-host.patch
0297-vgt-remove-the-PM-interrupts-mask-when-dom0-run-into.patch
0298-Add-missing-register-VEBOX_HWS_PGA_GEN7-during-rebas.patch
0299-vgt-security-enable-shadow-security-feature-for-SKL.patch
0300-vgt-security-audit-force-nonpriv-access-for-SKL.patch
0301-vgt-fix-sys-kernel-vgt-control-igd_mmio-access-error.patch
0302-vgt-fix-sys-kernel-vgt-control-igd_mmio-write-error.patch
0303-remove-vmfb_mapping.patch
0304-Refactor-gem-vgtbuffer.patch
0305-gem-vgtbuffer-new-implementation.patch
0306-Re-enable-vgtbuffer.patch
0307-vgt-skl-Enable-panel-fitting-for-SKL-pipeline.patch
0308-Enable-PPAT-translation-on-BDW.patch
0309-vgt-Fix-miscalculation-of-shadow-page-table-referenc.patch
0310-vgt-Add-new-mmio-into-track-list-for-Windows-10.patch
0311-vgt-skl-correct-cmd-parser-logic-for-MI_DISPLAY_FLIP.patch
0312-Fix-a-crash-during-freeing-vgtbuffer-objects.patch
0313-vgt-skl-Set-default-vGPU-schedule-interval-to-1ms.patch
0314-Use-Aliasing-PPGTT-only-when-GVT-g-is-enabled.patch
0315-Fix-preempt-disable-enable-unsymmetry.patch
0316-vgt-call-_hvm_exit-only-for-guests.patch
0317-config-turn-vfio-on.patch
0319-vgt-skl-add-surface-format-decode.patch
0320-Change-PPAT-register-handler-method-from-F_PT-to-F_D.patch
0321-Optimize-and-reduce-PPAT-related-logs.patch
0322-shadow-indirect-ctx-and-batch-buffer-per-ctx.patch
0323-enable-shadow-indirect-ctx-and-batch-buffer-per-ctx.patch
0324-add-a-new-F_RDR-register-to-whitelist.patch
0325-implement-audit-function-for-mi_op_2f.patch
0326-add-a-new-kernel-module-parameter-vgt_cmd_audit.patch
0327-vgt-skl-enable-cmd-audit-for-skl.patch
0328-passthru-regs-remove-registers-not-used.patch
0329-passthru-regs-keep-PT-for-HSW.patch
0330-passthru-regs-redefine-access-policy.patch
0331-passthru-regs-bring-a-new-register-type-F_PT_RO.patch
0332-disallowed-invalid-command-submit-to-HW.patch
0333-redefine-access-policy-for-register-ring-ctl.patch
0334-ring-enable-bit-should-always-be-set-in-context.patch
0335-vgt-implemented-new-32bit-PPGTT-logic.patch
0336-Add-kvmgt-support-in-vgt_perf.patch
0337-vgt-Remove-shadow-ppgtt-creation-from-shadow-context.patch
0338-vgt-patch-to-fix-897-issue.patch
0339-add-new-registers-to-while-list-for-SKL.patch
0340-vgt-skl-remove-one-F_PT-reg-for-skl.patch
0341-vgt-skl-redefine-access-policy-for-reg-0x4ddc-and-0x.patch
0342-vgt-skl-redefine-access-policy-for-reg-0x20e0-and-0x.patch
0343-passthru-regs-disallow-F_PT-from-BDW.patch
0344-vgt-Perform-normal-r-w-while-trapped-address-is-neit.patch
0345-enable-shadow-and-audit-privileged-BB-in-BLT-ring.patch
0346-Handle-guest-GuC-enabling-and-dump-warning.patch
0347-Dump-warning-when-guest-is-scaling-a-plane.patch
0348-wait-for-intel_fbdev_initial_config-finished-before-.patch
0349-vgt-consolidate-the-tlb-control-handling-before-the-.patch
0350-skip-some-verification-for-LRI.patch
0351-Remove-the-incorrect-interrupt-register-from-reset-l.patch
0352-Default-load-16-loop-devices-in-4.3-config.patch
0353-add-more-registers-to-white-list.patch
0354-drm-i915-skl-Disable-coarse-power-gating-up-until-F0.patch
0355-Remove-incorrect-register-from-restore-list.patch
0356-set-primary-sprite-plane-tiling-after-getting-the-pi.patch
0357-vgt-skl-remove-unused-pre-bdw-platforms-reserved-mem.patch
0358-add-a-kernel-parameter-enable_vgtbuffer.patch
0359-create-shadow-ppgtt-before-submit-the-workload.patch
0360-Adjust-cmd-length-correctly-for-NOOP.patch
0361-Remove-the-handling-of-cmd-buffer-resubmission.patch
0362-Remove-vgt_sysfs_lock-from-vgt_create_instance.patch
0363-fix-an-compile-warning.patch
0364-Fix-a-type-mismatch-warning-for-function-set_memory_.patch
0365-Fix-compile-warning-of-Wno-format.patch
0366-Compile-i915-vgt-with-Werror.patch
0368-Revert-Remove-the-handling-of-cmd-buffer-resubmissio.patch
0369-Revert-fix-an-compile-warning.patch
0370-Remove-the-handling-of-cmd-buffer-resubmission.patch
0371-i915-vgt-modulization-release-MPT-symbol-on-vgt-init.patch
0372-Replace-drm_gem_object_unreference-with-the-unlocked.patch
0373-Fix-an-logic-issue-in-ppgtt_allocate_oos_page.patch
0374-skl-fix-tiling-info-settings-in-fb-decoder.patch
0375-skl-fix-stride-calculation.patch
0376-Fix-the-el-context-find-logic-in-vgt.patch
0377-Move-the-extra-NOOPs-update-before-submittion-to-avo.patch
0378-vgt-remove-waitqueue_active-check-in-xen-mpt-module.patch
0379-avoid-ring-scan-error-for-shadow-indirect-ctx.patch
0380-don-t-sync-shadow-buffer-address-to-guest.patch
0381-Fix-a-compiling-warning.patch
0382-fix-for-bug-976.patch
0383-Disable-PG-on-SKL-as-a-temp-workaround.patch
0384-Fix-some-compiling-error-when-disabling-GVT-g.patch
0385-Enable-GVT-g-only-on-x86_64-platform.patch
0386-Fix-a-bug-wrong-condition-statement.patch
0387-add-a-parameter-vgt_hold_forcewake-for-vgt-to-hold-f.patch
0389-SBI-read-cache-miss-issue-fix.patch
0390-add-an-i915-option-gen9_pg_wa_enable.patch
0391-Add-code-to-avoid-log-flood-of-msi-inject-failure.patch
0392-Fix-code-bug-in-function-vgt_el_slots_next_sched.patch
0393-check-if-engine-is-supported-in-CTX_PTR-handler.patch
0394-support-guest-preemption-lite-restore-disable-enable.patch
0395-Fix-a-bug-in-preemption-disable-implementation.patch
0396-deferred-CMD-patching-mechanism-is-no-need-for-indir.patch
0397-create-a-dummy-guest-switch-to-avoid-lite-restore-fl.patch
0398-vgt-centrelized-kernel-parameter-check.patch
0399-vgt-enable-render_engine_reset-for-SKL.patch
0400-vgt-skl-fix-windows-guest-driver-upgrade-issue.patch
0401-vgt-debug-print-schedule-and-blank-time.patch
0402-vgt-debug-dump-debug-information-for-specific-guest.patch
0403-vgt-debug-leverage-the-new-debug-funtion.patch
0404-Add-64-bpp-RGB-support-for-Windows-10-guests.patch
0405-VGT-Fix-wrong-sprite-plane-format.patch
0406-vgt-stop-drop-the-frame-while-tile-format-isn-t-alig.patch
0407-vgt-add-more-registers-into-track-list-for-SKL.patch
0408-refine-vgtbuffer-size-calculation.patch
0409-Separate-GVT-g-host-RPS-threshold-parameters-with-na.patch
0410-Refine-the-RPS-thresholds-with-GVT-g.patch
0411-vgt-always-update-the-shadow-indirect_ctx-bb_per_ctx.patch
0412-vgt-remove-the-asserts-during-reset-to-make-CPU-core.patch
0413-temporay-workaround-for-bug-1136-on-kernel-4.3.patch
0414-vgt-fix-guest-fail-to-read-EDID-leading-to-black-gue.patch
0415-Revert-Add-64-bpp-RGB-support-for-Windows-10-guests.patch
0416-Revert-VGT-Fix-wrong-sprite-plane-format.patch
0417-vgt-refine-SKL-MOCS-save-restore-policy.patch
0418-Add-64-bpp-RGB-support-for-Windows-10-guests.patch
0419-VGT-Fix-wrong-sprite-plane-format.patch
0420-vgt-disable-sprite-plane.patch
0421-vgt-disable-sprite-conrtol-for-PIPE-B-and-C.patch
0422-vgt-delete-unused-function-fix-build-error.patch
0423-Support-USB-to-SATA-device-as-startup-disk.patch
0424-vgt-fix-wrong-stride-value-of-sprite-plane.patch
0425-vgt-add-render-CNTR-and-THRSH-regs-to-handle-list.patch
0426-vgt-qos-add-the-cap-control-interface.patch
0427-vgt-qos-add-some-statistics-routine-for-cap-control.patch
0428-vgt-qos-factor-out-the-scheduler.patch
0429-vgt-qos-add-sysfs-for-QoS-statistics.patch
0430-vgt-qos-implement-cap-control.patch
0431-vgt-qos-add-trace-function.patch
0432-vgt-qos-add-debugfs-for-QoS-statistics.patch
0433-avoid-unnecessary-context-switch.patch
0434-vgt-add-two-more-untracked-register-after-apply-the-.patch

#
# Patches analogous to those in the kernel patch queue required
# because of GVT-g updates to the DRM.
#

build-mipi-dsi-as-a-module.patch

# Adjustment to XenGT code to make it compatible with the kernel
xengt-iommu.patch

# Adjustment to drivers/xen/Makefile to make xengt the only build target
xengt-build.patch

# Adjustment to drivers/gpu/drm/Makefile for out-of-tree build 
drm-build.patch

# Force i915 to depend on xengt
i915-xengt-dependency.patch

#
# Update to build system integration to add extra configuration options
# and handle extra modules.
#

build-system-update.patch
fix-build-warnings.patch

# Extra patches
port-limit-on-hvm-memory-mapping.patch
vgt-fix-opregion-mapping-size.patch
vgt-make-force-primary-work.patch
vgt-add-hashing-gtt-framebuffer.patch
vgt-fix-vgtbuffer-ioctl.patch
vgtbuffer-round-up-y-tiled-size.patch
vgt-adjust-default-parameters.patch
setup_gtt_use_vzalloc.patch
setup_gtt_don_t_use_wc_page.patch
vgt_el_create_shadow_ppgtt_squash_warning.patch
vgt_fix_mapping.patch
vgt_check_for_out_of_range_gpa.patch

add-configuration-files.patch
adjust-logging.patch
blacklist_i915.patch

# Fix for Xen 4.7
xen-4.7-compat.patch
get_domctl_interface_version.patch
use-printk-for-ctx-check-logging.patch
